<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Wave Function Collapse - Smart Location Placement</title>
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <header class="header">
        <h1>Wave Function Collapse Map</h1>
        <p>Smart Locations + Data-Driven Terrain</p>
      </header>

      <!-- Controls -->
      
      <div class="controls">
        <!-- Map Name and Generate Buttons -->
        <div class="top-controls">
          <div class="map-name-group">
            <!-- <label for="mapNameInput">Map Name</label> -->
            <div class="input-with-copy">
              <input type="text" id="mapNameInput" class="input-text" placeholder="A Mysterious Place" />
              <button id="copyMapNameBtn" title="Copy map name" aria-label="Copy name">üìã</button>
            </div>
          </div>

          <div class="button-group">
            <button id="generateBtn">Generate New World</button>
            <button id="stepBtn">Step Forward</button>
            <button id="autoBtn">Auto Generate</button>
            <button id="resetBtn">Reset</button>
          </div>
        </div>

        <!-- Grid Size moved to sidebar -->
      </div>

      <!-- Main Content -->
      <div class="main-content">
        <div class="map-area">
          <div id="mapGrid" class="map-grid"></div>
        </div>

        <aside class="sidebar">
          <div class="info-section">
            <h3>Theme</h3>
            <select id="themeSelect">
              <option value="fantasy">üè∞ Fantasy</option>
              <option value="cyberpunk">üåÉ Cyberpunk</option>
              <option value="modern">üö≤ Modern</option>
            </select>
          </div>

          <div class="info-section">
            <h3>Grid Size</h3>
            <div class="grid-size">
              <input type="number" id="gridWidth" value="8" min="4" max="24" />
              <span>√ó</span>
              <input type="number" id="gridHeight" value="8" min="4" max="24" />
            </div>
          </div>

          <div class="info-section">
            <h3>Progress</h3>
            <div class="progress-bar-container">
              <div id="progressBar" class="progress-bar">0%</div>
            </div>
            <div class="speed-controls">
              <button id="slowBtn">Slow</button>
              <button id="normalBtn">Normal</button>
              <button id="fastBtn">Fast</button>
            </div>
          </div>

          <div class="info-section">
            <h3>Terrain Legend</h3>
            <div id="legend" class="legend"></div>
          </div>

          <div class="info-section">
            <h3>Statistics</h3>
            <div class="stats">
              <div class="stat"><span>Steps:</span> <span id="stepCount">0</span></div>
              <div class="stat"><span>Locations:</span> <span id="locationCount">0</span></div>
              <div class="stat"><span>Entropy:</span> <span id="entropyCount">0</span></div>
              <div class="stat"><span>Collapsed:</span> <span id="collapsedCount">0</span></div>
            </div>
          </div>

          <div class="info-section">
            <h3>Log</h3>
            <div id="log" class="log"></div>
          </div>
        </aside>
      </div>
    </div>

    <!-- Scripts -->
    <script async src="https://stats.ill13.com/script.js" data-website-id="acd6458a-bc5c-4a87-92a2-4ca46d461135"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.5/seedrandom.min.js"></script>
    <script src="js/loader.js"></script>
    <script src="js/themeManager.js"></script>
    <script src="js/classes/MapNamer.js"></script>
    <script src="js/classes/WaveFunctionCollapse.js"></script>
    <script src="js/TemplatePlacer.js"></script>
    <script src="js/classes/SoftRenderer.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>
